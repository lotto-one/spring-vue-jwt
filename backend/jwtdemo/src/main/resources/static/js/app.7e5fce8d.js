(function(){"use strict";var e={7708:function(e,t,o){var n=o(3751),r=o(641),a=o(33);const u={key:0,style:{display:"inline"}},s={key:1};function i(e,t,o,n,i,l){const c=(0,r.g2)("router-link"),m=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",null,[(0,r.Lk)("div",null,[(0,r.bF)(c,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Home")])),_:1}),(0,r.eW)(" | ")]),(0,r.Lk)("div",null,[(0,r.bF)(c,{to:"/about"},{default:(0,r.k6)((()=>[(0,r.eW)("About")])),_:1}),(0,r.eW)(" |")]),e.isAuthenticated?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("span",null,[(0,r.Lk)("b",null,(0,a.v_)(e.username)+" 님 반가워요",1)]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},"Logout"),(0,r.eW)(" | ")])):((0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(c,{to:"/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Login")])),_:1}),(0,r.eW)(" | ")]))]),(0,r.bF)(m)])}var l=o(6278),c={computed:{...(0,l.L8)(["isAuthenticated","username"])},methods:{...(0,l.i0)(["logout"])}},m=o(6262);const d=(0,m.A)(c,[["render",i]]);var g=d,h=o(5220);const p={class:"home"},f=["src"],v=["src"];function k(e,t,o,n,a,u){const s=(0,r.g2)("HelloWorld");return(0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("p",null,[(0,r.Lk)("img",{alt:"toyou1",src:a.toyou1},null,8,f)]),(0,r.Lk)("p",null,[(0,r.Lk)("img",{alt:"toyou2",src:a.toyou2},null,8,v)]),(0,r.bF)(s,{msg:a.message},null,8,["msg"]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.getData&&u.getData(...e))},"getData")])}const b={class:"hello"};function L(e,t,o,n,u,s){return(0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("h1",null,(0,a.v_)(o.msg),1)])}var y={name:"HelloWorld",props:{msg:String}};const w=(0,m.A)(y,[["render",L],["__scopeId","data-v-43f48a4c"]]);var A=w,j=o(4335);const S=j.A.create({baseURL:"http://localhost/jwtdemo"});S.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers["Authorization"]=`Bearer ${t}`),e}),(e=>Promise.reject(e)));var O=S,C={name:"HomeView",data(){return{message:"처음 화면",toyou1:"/jwtdemo/img/toyou1.png",toyou2:"/jwtdemo/img/toyou2.jpg"}},methods:{getData(){O.get("http://localhost/jwtdemo/api/msg").then((e=>{console.log(`${e.data} 잘 받았구나`),this.message=e.data})).catch((e=>{console.log(error)}))}},components:{HelloWorld:A}};const E=(0,m.A)(C,[["render",k]]);var _=E;const I=e=>((0,r.Qi)("data-v-46c35337"),e=e(),(0,r.jt)(),e),W={key:0,class:"about"},X=I((()=>(0,r.Lk)("h1",null,"This is an about page",-1))),M=[X];function $(e,t,o,n,a,u){return e.isAuthenticated?((0,r.uX)(),(0,r.CE)("div",W,M)):(0,r.Q3)("",!0)}o(4114);var x={computed:{...(0,l.L8)(["isAuthenticated"])},watch:{isAuthenticated(e){e||this.$router.push("/login")}},mounted(){this.isAuthenticated||this.$router.push("/login")}};const F=(0,m.A)(x,[["render",$],["__scopeId","data-v-46c35337"]]);var P=F;const T=(0,r.Lk)("h1",null,"Login",-1),D=(0,r.Lk)("label",{for:"username"},"Username:",-1),H=(0,r.Lk)("label",{for:"password"},"Password:",-1),U=(0,r.Lk)("div",null,[(0,r.Lk)("button",{type:"submit"},"Login")],-1),Q={key:0};function V(e,t,o,u,s,i){return(0,r.uX)(),(0,r.CE)("div",null,[T,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>i.submitLogin&&i.submitLogin(...e)),["prevent"]))},[(0,r.Lk)("div",null,[D,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e)},null,512),[[n.Jo,s.username]])]),(0,r.Lk)("div",null,[H,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e)},null,512),[[n.Jo,s.password]])]),U,s.errorMessage?((0,r.uX)(),(0,r.CE)("div",Q,(0,a.v_)(s.errorMessage),1)):(0,r.Q3)("",!0)],32)])}var J={data(){return{username:"",password:"",errorMessage:""}},methods:{...(0,l.i0)(["login"]),submitLogin(){this.errorMessage="",this.login({username:this.username,password:this.password}).then((()=>{this.$router.push("/")})).catch((e=>{this.errorMessage=e.message}))}}};const q=(0,m.A)(J,[["render",V]]);var z=q;const B=[{path:"/",name:"home",component:_},{path:"/about",name:"about",component:P},{path:"/login",name:"login",component:z}],R=(0,h.aE)({history:(0,h.LA)("/jwtdemo/"),routes:B});var G=R,K=(0,l.y$)({state:{username:localStorage.getItem("username")||"",token:localStorage.getItem("token")||""},getters:{isAuthenticated:e=>!!e.token,username:e=>e.username},mutations:{setAuth(e,{username:t,token:o}){e.username=t,e.token=o,localStorage.setItem("username",t),localStorage.setItem("token",o)},clearAuth(e){e.username="",e.token="",localStorage.removeItem("username"),localStorage.removeItem("token")}},actions:{login({commit:e},{username:t,password:o}){return j.A.post("/jwtdemo/api/auth/login",{username:t,password:o}).then((o=>{const n=o.data.accessToken;e("setAuth",{username:t,token:n})})).catch((e=>{throw new Error("Invalid credentials")}))},logout({commit:e}){return j.A.get("/jwtdemo/api/auth/logout").then((()=>{e("clearAuth")}))}}});(0,n.Ef)(g).use(G).use(K).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var u=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],a=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||u>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(s=!1,a<u&&(u=a));if(s){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,u=n[0],s=n[1],i=n[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(i)var c=i(o)}for(t&&t(n);l<u.length;l++)a=u[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=self["webpackChunkfront"]=self["webpackChunkfront"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(7708)}));n=o.O(n)})();
//# sourceMappingURL=app.7e5fce8d.js.map